@model IEnumerable<Rajby_web.Models.ChemicalViewModel>

@{
    ViewData["Title"] = "Chemical Requisitions - Last 3 Months";
}

<h2>@ViewData["Title"]</h2>

<!-- Add the DataTable HTML table structure -->
<table id="chemicalTable" class="table table-striped table-bordered">
    <thead>
        <tr>
            <th style="display:none;">Requisition ID</th> <!-- Hide RequisitionId column -->
            <th>Document ID</th>
            <th>Document Date</th>
            <th>Department</th>
            <th>Store</th>
            <th>Comments</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            <tr>
                <td style="display:none;">@item.RequisitionId</td> <!-- Hide RequisitionId data -->
                <td>@item.DocId</td>
                <td>@item.DocDt?.ToString("yyyy-MM-dd")</td>
                <td>@item.DeptGroup</td>
                <td>@item.StoreId</td>
                <td>@item.Comments</td>
            </tr>
        }
    </tbody>
</table>

<!-- Include jQuery and DataTable scripts -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"></script>

<!-- Initialize the DataTable -->
<script>
    $(document).ready(function () {
        $('#chemicalTable').DataTable({
            "paging": true,            // Enable paging
            "searching": true,         // Enable searching
            "ordering": true,          // Enable sorting
            "info": true,              // Show table info (like "Showing 1 to 10 of 50 entries")
            "lengthChange": true,      // Allow changing the number of entries per page
            "pageLength": 10,          // Set the default number of rows per page
            "columnDefs": [{
                "targets": [0],        // Hide the first column (RequisitionId)
                "visible": false
            }]
        });
    });
</script>

<!-- Include DataTable CSS for styling -->
<link href="https://cdn.datatables.net/1.11.5/css/jquery.dataTables.min.css" rel="stylesheet" />

<style>
    th {
        text-align: left;
        border-bottom: 2px solid #000;
    }

    #chemicalTable_wrapper {
        margin-top: 20px;
    }

    tbody tr:nth-child(even) {
        background-color: #f7f7f7;
    }

    tbody tr:hover {
        background-color: #e9ecef;
    }

    .table-responsive {
        margin-left: 20px; /* Add margin on left */
        margin-right: 20px; /* Add margin on right */
    }

    /* Pagination style for DataTable */
    .pagination {
        float: right; /* Align pagination to the right */
    }
</style>
